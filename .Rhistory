erged_file <- read.csv("C:\\Users\\flyka\\Box\\PPW3_compositional_analysis\\merge_survey_fitbit.csv")
merged_file <- read.csv("C:\\Users\\flyka\\Box\\PPW3_compositional_analysis\\merge_survey_fitbit.csv")
View(erged_file)
merged_file <- read.csv("C:\\Users\\flyka\\Box\\PPW3_compositional_analysis\\merge_survey_fitbit.csv")
View(merged_file)
View(merged_file)
colnames(merged_file)
install.packages(dplyr)
install.packages('dplyr')
summary_stats <- merged_file %>%
summarise (
across(
all_of(calculate_mean),
list(
mean = ~mean(.x, na.rm=TRUE),
sd = ~sd(.x, na.rm=TRUE)
)
)
)
library('dplyr')
summary_stats <- merged_file %>%
summarise (
across(
all_of(calculate_mean),
list(
mean = ~mean(.x, na.rm=TRUE),
sd = ~sd(.x, na.rm=TRUE)
)
)
)
summary_stats <- merged_file %>%
summarise (
across(
all_of(calculate_mean),
list(
mean = ~mean(.x, na.rm=TRUE),
sd = ~sd(.x, na.rm=TRUE)
)
)
)
rlang::last_trace()
install.packages('crayon')
summary_stats <- merged_file %>%
summarise (
across(
all_of(calculate_mean),
list(
mean = ~mean(.x, na.rm=TRUE),
sd = ~sd(.x, na.rm=TRUE)
)
)
)
rlang::last_trace()
summary_stats <- merged_file %>%
summarise (
across(
all_of(calculate_mean),
list(
mean = ~mean(.x, na.rm=TRUE),
sd = ~sd(.x, na.rm=TRUE)
)
)
)
calculate_mean <- c("LPA_week0", "LPA_week2", "LPA_week6", "MVPA_week0", "MVPA_week2", "MVPA_week6",
"Sedentary_week0","Sedentary_week2","Sedentary_week6", "Sleep_week2",  "Sleep_week0", "Sleep_week6",
"MH_baseline", "MH_followup1", "MH_followup2")
summary_stats <- merged_file %>%
summarise (
across(
all_of(calculate_mean),
list(
mean = ~mean(.x, na.rm=TRUE),
sd = ~sd(.x, na.rm=TRUE)
)
)
)
View(merged_file)
colnames(merged_file)
merged_file <- read.csv("C:\\Users\\flyka\\Box\\PPW3_compositional_analysis\\merge_survey_fitbit.csv")
colnames(merged_file)
#------------------------calculate the mean and sd of the variables that we will use for the main analysis
calculate_mean <- c("LPA_week0", "LPA_week2", "LPA_week6", "MVPA_week0", "MVPA_week2", "MVPA_week6",
"Sedentary_week0","Sedentary_week2","Sedentary_week6", "Sleep_week2",  "Sleep_week0", "Sleep_week6",
"MH_baseline", "MH_followup1", "MH_followup2")
summary_stats <- merged_file %>%
summarise (
across(
all_of(calculate_mean),
list(
mean = ~mean(.x, na.rm=TRUE),
sd = ~sd(.x, na.rm=TRUE)
)
)
)
View(summary_stats)
write.csv(summary_stats, 'summary_stats.csv', row.names=FALSE)
View(merged_file)
calculate_mean <- names(merged_file)[220:262]
summary_stats <- merged_file %>%
summarise (
across(
all_of(calculate_mean),
list(
mean = ~mean(.x, na.rm=TRUE),
sd = ~sd(.x, na.rm=TRUE)
)
)
)
write.csv(summary_stats, 'summary_stats.csv', row.names=FALSE)
install.packages('compositional')
install.packages('compositional')
install.packages('compositions')
library('compositions')
merged_file <- read.csv("C:\\Users\\flyka\\Box\\PPW3_compositional_analysis\\merge_survey_fitbit.csv")
colnames(merged_file)
#------------------------calculate the mean and sd of the variables that we will use for the main analysis
#calculate_mean <- c("LPA_week0", "LPA_week2", "LPA_week6", "MVPA_week0", "MVPA_week2", "MVPA_week6",
# "Sedentary_week0","Sedentary_week2","Sedentary_week6", "Sleep_week2",  "Sleep_week0", "Sleep_week6",
# "MH_baseline", "MH_followup1", "MH_followup2")
calculate_mean <- names(merged_file)[220:262]
summary_stats <- merged_file %>%
summarise (
across(
all_of(calculate_mean),
list(
mean = ~mean(.x, na.rm=TRUE),
sd = ~sd(.x, na.rm=TRUE)
)
)
)
merged_file <- read.csv("C:\\Users\\flyka\\Box\\PPW3_compositional_analysis\\merge_survey_fitbit.csv")
View(merged_file)
colnames(merged_file)
#------------------------calculate the mean and sd of the variables that we will use for the main analysis
#calculate_mean <- c("LPA_week0", "LPA_week2", "LPA_week6", "MVPA_week0", "MVPA_week2", "MVPA_week6",
# "Sedentary_week0","Sedentary_week2","Sedentary_week6", "Sleep_week2",  "Sleep_week0", "Sleep_week6",
# "MH_baseline", "MH_followup1", "MH_followup2")
calculate_mean <- names(merged_file)[220:262]
summary_stats <- merged_file %>%
summarise (
across(
all_of(calculate_mean),
list(
mean = ~mean(.x, na.rm=TRUE),
sd = ~sd(.x, na.rm=TRUE)
)
)
)#remove null when I do mean
write.csv(summary_stats, 'summary_stats.csv', row.names=FALSE)
#number of goals setting in the dataset
baseline_CoDA <- c ("LPA_week0", "MVPA_week0", "Sedentary_week0", "Sleep_week0")
baseline_CoDA_data <- merged_file[baseline_CoDA]
baseline_CoDA_data['wear_time'] <- rowSums(baseline_CoDA_data, na.rm = TRUE)
View(baseline_CoDA_data)
#calculate_mean <- c("LPA_week0", "LPA_week2", "LPA_week6", "MVPA_week0", "MVPA_week2", "MVPA_week6",
# "Sedentary_week0","Sedentary_week2","Sedentary_week6", "Sleep_week2",  "Sleep_week0", "Sleep_week6",
# "MH_baseline", "MH_followup1", "MH_followup2")
calculate_mean <- names(merged_file)[220:262]
summary_stats <- merged_file %>%
summarise (
across(
all_of(calculate_mean),
list(
mean = ~mean(.x, na.rm=TRUE),
sd = ~sd(.x, na.rm=TRUE)
)
)
)#remove null when I do mean
write.csv(summary_stats, 'summary_stats.csv', row.names=FALSE)
View(merged_file)
View(baseline_CoDA_data)
print(colnames(merged_file))
merged_file <- read.csv("C:\\Users\\flyka\\Box\\PPW3_compositional_analysis\\merge_survey_fitbit.csv")
colnames(merged_file)
calculate_mean <- names(merged_file)[225:278]
summary_stats <- merged_file %>%
summarise (
across(
all_of(calculate_mean),
list(
mean = ~mean(.x, na.rm=TRUE),
sd = ~sd(.x, na.rm=TRUE)
)
)
)#remove null when I do mean
write.csv(summary_stats, 'summary_stats.csv', row.names=FALSE)
baseline_CoDA <- c ("LPA_week0", "MVPA_week0", "Sedentary_week0", "Sleep_week0", "TotalMinutesWearTime_week0")
View(baseline_CoDA_data)
baseline_CoDA <- c ("LPA_week0", "MVPA_week0", "Sedentary_week0", "Sleep_week0", "TotalMinutesWearTime_week0")
baseline_CoDA_data <- merged_file[baseline_CoDA]
View(baseline_CoDA_data)
baseline_CoDA <- c ("LPA_week0", "MVPA_week0", "Sedentary_week0", "Sleep_week0", "TotalMinutesWearTime_week0")
baseline_CoDA_data <- merged_file[baseline_CoDA]
baseline_rescale <- baseline_CoDA_data %>%
mutate(
total = Sleep_week0 + Sedentary_week0 + LPA_week0 + MVPA_week0,
Sleep_c = Sleep_week0 / total * TotalMinutesWearTime_week0,
Sed_c  = Sedentary_week0 / total * TotalMinutesWearTime_week0,
LPA_c  = LPA_week0  / total * TotalMinutesWearTime_week0,
MVPA_c = MVPA_week0 / total * TotalMinutesWearTime_week0
)
View(baseline_rescale)
baseline_rescale['rowsum'] <- rowsum(baseline_rescale, r)
baseline_rescale['rowsum'] <- rowsum(baseline_rescale, na.rm = TRUE)
baseline_rescale['rowsum'] <- rowsum(baseline_rescale["LPA_week0", "MVPA_week0", "Sedentary_week0", "Sleep_week0"], na.rm = TRUE)
TEST <- c("MVPA_c", "LPA_c", "Sed_c", "Sleep_c")
baseline_rescale$rowsum <- rowSums(baseline_rescale[, TEST], na.rm = TRUE)
View(baseline_rescale)
baseline_CoDA <- c ("LPA_week0", "MVPA_week0", "Sedentary_week0", "Sleep_week0", "TotalMinutesWearTime_week0")
baseline_CoDA_data <- merged_file[baseline_CoDA]
baseline_rescale <- baseline_CoDA_data %>%
mutate(
total = Sleep_week0 + Sedentary_week0 + LPA_week0 + MVPA_week0,
Sleep_c = Sleep_week0 / total * TotalMinutesWearTime_week0,
Sed_c  = Sedentary_week0 / total * TotalMinutesWearTime_week0,
LPA_c  = LPA_week0  / total * TotalMinutesWearTime_week0,
MVPA_c = MVPA_week0 / total * TotalMinutesWearTime_week0
)
View(baseline_rescale)
install.packages('zcompositions')
install.packages('zCompositions')
library('zCompositions')
comp_data <- baseline_rescale %>%
select(Sleep_c, Sed_c, LPA_c, MVPA_c)
library('compositions')
View(erged_file)
View(baseline_rescale)
comp_data <- baseline_rescale %>%
select(Sleep_c, Sed_c, LPA_c, MVPA_c)
comp_data <- baseline_rescale %>% select(Sleep_c, Sed_c, LPA_c, MVPA_c)
comp_data <- dplyr::select(baseline_rescale, Sleep_c, Sed_c, LPA_c, MVPA_c)
View(comp_data)
comp_nozeros <- cmultRepl(comp_data, method = "CZM")  # common approach
